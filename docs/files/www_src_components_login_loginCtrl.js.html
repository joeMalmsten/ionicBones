<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>www/src/components/login/loginCtrl.js - app</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="app" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 3.5.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/appFlyout.html">appFlyout</a></li>
                                <li><a href="../classes/appHeader.html">appHeader</a></li>
                                <li><a href="../classes/appInput.html">appInput</a></li>
                                <li><a href="../classes/appTable.html">appTable</a></li>
                                <li><a href="../classes/DashboardCtrl.html">DashboardCtrl</a></li>
                                <li><a href="../classes/FlyoutCtrl.html">FlyoutCtrl</a></li>
                                <li><a href="../classes/flyoutFactory.html">flyoutFactory</a></li>
                                <li><a href="../classes/hotkeysFactory.html">hotkeysFactory</a></li>
                                <li><a href="../classes/InputCtrl.html">InputCtrl</a></li>
                                <li><a href="../classes/LoginCtrl.html">LoginCtrl</a></li>
                                <li><a href="../classes/NavbarCtrl.html">NavbarCtrl</a></li>
                                <li><a href="../classes/TableCtrl.html">TableCtrl</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/app.bindHtmlCompile.html">app.bindHtmlCompile</a></li>
                                <li><a href="../modules/app.dashboard.html">app.dashboard</a></li>
                                <li><a href="../modules/app.filters.html">app.filters</a></li>
                                <li><a href="../modules/app.flyout.html">app.flyout</a></li>
                                <li><a href="../modules/app.hotkeys.html">app.hotkeys</a></li>
                                <li><a href="../modules/app.input.html">app.input</a></li>
                                <li><a href="../modules/app.login.html">app.login</a></li>
                                <li><a href="../modules/app.table.html">app.table</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: www/src/components/login/loginCtrl.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*global angular module require*/

// Put all var declarations on top, hoisting does this anyway
var loginModule;

require(&#x27;../../common/appInput/appInput&#x27;);

/**
 * module contains the logic custom inputs
 *
 * Dependencies: app.input
 *
 * @module app.login
 * @main
 */
loginModule = angular.module(&#x27;app.login&#x27;, [&#x27;app.input&#x27;])

/**
 * A controller that contains the main logic for the login page.
 *
 * @class LoginCtrl
 * @param {Object} $scope
 *  The isolate scope of the directive.
 * @param {Object} $state
 *  Ionic wrapper around the Angular page router
 * @param {Object} $timeout
 *  An Angular wrapper around SetTimeout
 */
.controller(&#x27;LoginCtrl&#x27;, [&#x27;$scope&#x27;, &#x27;$state&#x27;, &#x27;$timeout&#x27;, function($scope, $state, $timeout) {
    // This is only needed for possible callbacks, but I still
    //  prefer to set it for consistency whenever I need to use &#x27;this&#x27;
    var self = this,
        $    = require(&#x27;jquery&#x27;),
        _    = require(&#x27;lodash&#x27;);

    self.mockLoginData = {
        username: &#x27;admin&#x27;,
        password: &#x27;password&#x27;
    };

    $scope.mockLabel = &#x27;This is a mock label.&#x27;;
    $scope.errorMessage = &#x27;Login information is incorrect.&#x27;;
    $scope.displayErrorMessage = false;
    $scope.inputValues = {
        username: {
            value: &#x27;&#x27;
        },
        password: {
            value: &#x27;&#x27;
        }
    };

    /**
     * submits and attempts to validate a login, no back-end yet
     *
     * @method $scope.submitLogin
     * @return none
     */
    $scope.submitLogin = function() {
        if ($scope.canSubmit()) {
            if (self.mockLoginData.username === $scope.inputValues.username.value &amp;&amp;
                self.mockLoginData.password === $scope.inputValues.password.value) {
                $scope.displayErrorMessage = false;
                self.inputElems.removeClass(&#x27;contains-errors&#x27;);
                $state.go(&#x27;dashboard&#x27;);
            } else {
                $scope.displayErrorMessage = true;
                self.inputElems.addClass(&#x27;contains-errors&#x27;);
            }
        }
    };

    /**
     * Tells the user whether or not that have enough information to submit for
     * login
     *
     * @method $scope.canSubmit
     * @return {Boolean} whether we can submit or not
     */
    $scope.canSubmit = function() {
        var success = true;
        _.each($scope.inputValues, function(property) {
            if (!property.value) {
                success = false;
            }
        });
        return success;
    };

    /**
     * creates any necessary jquery selectors, always run AFTER angular finishes
     * rendering. This is the reason for the timeout(func(){}, 0)
     *
     * @method initSelectors
     */
    function initSelectors() {
        self.inputElems = $(&#x27;.login-page-input&#x27;);
    }


    // Timeout to make sure any DOM element selector functions are called after
    //  the DOM has finished rendering elements on the browser. $timeout @ 0
    //  will put these function calls at the end of the browser event queue
    $timeout(function() {
        initSelectors();
    }, 0);
}]);

module.exports = loginModule;

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
